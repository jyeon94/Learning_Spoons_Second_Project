{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [],
   "source": [
    "# 데이터의 타당성을 높이기 위해 주성분 분석을 실시한다.\n",
    "# 데이터의 벡터간 scale을 맞추기 위해 정규화를 진행하고 시작한다.\n",
    "\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import matplotlib\n",
    "import matplotlib.pyplot as plt # scree plot 그리기 위해 설치\n",
    "import seaborn as sns\n",
    "\n",
    "from sklearn.preprocessing import StandardScaler# 데이터 표준화 위해 설치\n",
    "from sklearn.preprocessing import Normalizer\n",
    "from sklearn.decomposition import PCA # PCA 하기 위해 설치"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>일시</th>\n",
       "      <th>도_num</th>\n",
       "      <th>연도</th>\n",
       "      <th>SO2</th>\n",
       "      <th>CO</th>\n",
       "      <th>O3</th>\n",
       "      <th>NO2</th>\n",
       "      <th>PM10</th>\n",
       "      <th>PM25</th>\n",
       "      <th>합계 일조시간(hr)</th>\n",
       "      <th>품종명</th>\n",
       "      <th>도</th>\n",
       "      <th>마켓명</th>\n",
       "      <th>가격</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>0</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.005504</td>\n",
       "      <td>0.503030</td>\n",
       "      <td>0.030148</td>\n",
       "      <td>0.009233</td>\n",
       "      <td>35.018939</td>\n",
       "      <td>37.602906</td>\n",
       "      <td>8.300000</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>강원도</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>1</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.005632</td>\n",
       "      <td>0.417254</td>\n",
       "      <td>0.023083</td>\n",
       "      <td>0.018736</td>\n",
       "      <td>24.678419</td>\n",
       "      <td>37.602906</td>\n",
       "      <td>8.820000</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>경기도</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>2</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.006906</td>\n",
       "      <td>0.467460</td>\n",
       "      <td>0.024183</td>\n",
       "      <td>0.014894</td>\n",
       "      <td>24.450397</td>\n",
       "      <td>37.602906</td>\n",
       "      <td>6.133333</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>인천광역시</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>3</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.004950</td>\n",
       "      <td>0.403021</td>\n",
       "      <td>0.024425</td>\n",
       "      <td>0.021413</td>\n",
       "      <td>18.644792</td>\n",
       "      <td>37.602906</td>\n",
       "      <td>9.100000</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>서울특별시</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>4</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.005591</td>\n",
       "      <td>0.567593</td>\n",
       "      <td>0.025477</td>\n",
       "      <td>0.011117</td>\n",
       "      <td>44.833333</td>\n",
       "      <td>37.602906</td>\n",
       "      <td>7.980000</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>경상북도</td>\n",
       "      <td>북부도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22075</th>\n",
       "      <td>2018-12-31</td>\n",
       "      <td>10</td>\n",
       "      <td>2018</td>\n",
       "      <td>0.003241</td>\n",
       "      <td>0.502206</td>\n",
       "      <td>0.018193</td>\n",
       "      <td>0.023311</td>\n",
       "      <td>22.787681</td>\n",
       "      <td>12.066176</td>\n",
       "      <td>6.600000</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>울산광역시</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>30000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22076</th>\n",
       "      <td>2018-12-31</td>\n",
       "      <td>11</td>\n",
       "      <td>2018</td>\n",
       "      <td>0.003150</td>\n",
       "      <td>0.475868</td>\n",
       "      <td>0.017313</td>\n",
       "      <td>0.022639</td>\n",
       "      <td>29.648866</td>\n",
       "      <td>19.518839</td>\n",
       "      <td>5.921429</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>경상남도</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>30000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22077</th>\n",
       "      <td>2018-12-31</td>\n",
       "      <td>12</td>\n",
       "      <td>2018</td>\n",
       "      <td>0.003204</td>\n",
       "      <td>0.605093</td>\n",
       "      <td>0.015468</td>\n",
       "      <td>0.027125</td>\n",
       "      <td>34.759259</td>\n",
       "      <td>22.728704</td>\n",
       "      <td>9.200000</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>광주광역시</td>\n",
       "      <td>각화도매</td>\n",
       "      <td>31000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22078</th>\n",
       "      <td>2018-12-31</td>\n",
       "      <td>13</td>\n",
       "      <td>2018</td>\n",
       "      <td>0.004119</td>\n",
       "      <td>0.373418</td>\n",
       "      <td>0.014718</td>\n",
       "      <td>0.027532</td>\n",
       "      <td>28.525591</td>\n",
       "      <td>15.960829</td>\n",
       "      <td>5.700000</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>부산광역시</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>30000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22079</th>\n",
       "      <td>2018-12-31</td>\n",
       "      <td>14</td>\n",
       "      <td>2018</td>\n",
       "      <td>0.005988</td>\n",
       "      <td>0.594565</td>\n",
       "      <td>0.018808</td>\n",
       "      <td>0.015774</td>\n",
       "      <td>25.805264</td>\n",
       "      <td>20.055719</td>\n",
       "      <td>8.471429</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>전라남도</td>\n",
       "      <td>각화도매</td>\n",
       "      <td>31000.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>22080 rows × 14 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "               일시  도_num    연도       SO2        CO        O3       NO2  \\\n",
       "0      2013-01-02      0  2013  0.005504  0.503030  0.030148  0.009233   \n",
       "1      2013-01-02      1  2013  0.005632  0.417254  0.023083  0.018736   \n",
       "2      2013-01-02      2  2013  0.006906  0.467460  0.024183  0.014894   \n",
       "3      2013-01-02      3  2013  0.004950  0.403021  0.024425  0.021413   \n",
       "4      2013-01-02      4  2013  0.005591  0.567593  0.025477  0.011117   \n",
       "...           ...    ...   ...       ...       ...       ...       ...   \n",
       "22075  2018-12-31     10  2018  0.003241  0.502206  0.018193  0.023311   \n",
       "22076  2018-12-31     11  2018  0.003150  0.475868  0.017313  0.022639   \n",
       "22077  2018-12-31     12  2018  0.003204  0.605093  0.015468  0.027125   \n",
       "22078  2018-12-31     13  2018  0.004119  0.373418  0.014718  0.027532   \n",
       "22079  2018-12-31     14  2018  0.005988  0.594565  0.018808  0.015774   \n",
       "\n",
       "            PM10       PM25  합계 일조시간(hr)        품종명      도   마켓명       가격  \n",
       "0      35.018939  37.602906     8.300000  토마토(10kg)    강원도  가락도매  29000.0  \n",
       "1      24.678419  37.602906     8.820000  토마토(10kg)    경기도  가락도매  29000.0  \n",
       "2      24.450397  37.602906     6.133333  토마토(10kg)  인천광역시  가락도매  29000.0  \n",
       "3      18.644792  37.602906     9.100000  토마토(10kg)  서울특별시  가락도매  29000.0  \n",
       "4      44.833333  37.602906     7.980000  토마토(10kg)   경상북도  북부도매  29000.0  \n",
       "...          ...        ...          ...        ...    ...   ...      ...  \n",
       "22075  22.787681  12.066176     6.600000  토마토(10kg)  울산광역시  엄궁도매  30000.0  \n",
       "22076  29.648866  19.518839     5.921429  토마토(10kg)   경상남도  엄궁도매  30000.0  \n",
       "22077  34.759259  22.728704     9.200000  토마토(10kg)  광주광역시  각화도매  31000.0  \n",
       "22078  28.525591  15.960829     5.700000  토마토(10kg)  부산광역시  엄궁도매  30000.0  \n",
       "22079  25.805264  20.055719     8.471429  토마토(10kg)   전라남도  각화도매  31000.0  \n",
       "\n",
       "[22080 rows x 14 columns]"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 사용할 파일 불러오기\n",
    "\n",
    "tomato = pd.read_csv('/Users/jungdayoung/Documents/GitHub/Learning_Spoons_Second_Project/data/full_data.csv')\n",
    "tomato"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>일시</th>\n",
       "      <th>도_num</th>\n",
       "      <th>연도</th>\n",
       "      <th>SO2</th>\n",
       "      <th>CO</th>\n",
       "      <th>O3</th>\n",
       "      <th>NO2</th>\n",
       "      <th>PM10</th>\n",
       "      <th>PM25</th>\n",
       "      <th>합계 일조시간(hr)</th>\n",
       "      <th>품종명</th>\n",
       "      <th>도</th>\n",
       "      <th>마켓명</th>\n",
       "      <th>가격</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>18415</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>10</td>\n",
       "      <td>2017</td>\n",
       "      <td>0.004550</td>\n",
       "      <td>0.930384</td>\n",
       "      <td>0.023088</td>\n",
       "      <td>0.033774</td>\n",
       "      <td>81.213251</td>\n",
       "      <td>41.930678</td>\n",
       "      <td>8.300000</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>울산광역시</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>21000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18416</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>11</td>\n",
       "      <td>2017</td>\n",
       "      <td>0.004742</td>\n",
       "      <td>0.748507</td>\n",
       "      <td>0.021643</td>\n",
       "      <td>0.028905</td>\n",
       "      <td>81.940972</td>\n",
       "      <td>39.022832</td>\n",
       "      <td>6.742857</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>경상남도</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>21000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18417</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>12</td>\n",
       "      <td>2017</td>\n",
       "      <td>0.003583</td>\n",
       "      <td>0.828460</td>\n",
       "      <td>0.008503</td>\n",
       "      <td>0.040649</td>\n",
       "      <td>83.175926</td>\n",
       "      <td>59.228704</td>\n",
       "      <td>0.100000</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>광주광역시</td>\n",
       "      <td>각화도매</td>\n",
       "      <td>22000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18418</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>13</td>\n",
       "      <td>2017</td>\n",
       "      <td>0.004547</td>\n",
       "      <td>0.500735</td>\n",
       "      <td>0.020633</td>\n",
       "      <td>0.032862</td>\n",
       "      <td>88.154762</td>\n",
       "      <td>60.079365</td>\n",
       "      <td>8.300000</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>부산광역시</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>21000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18419</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>14</td>\n",
       "      <td>2017</td>\n",
       "      <td>0.004979</td>\n",
       "      <td>0.731250</td>\n",
       "      <td>0.024893</td>\n",
       "      <td>0.021241</td>\n",
       "      <td>60.396610</td>\n",
       "      <td>35.690363</td>\n",
       "      <td>3.835714</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>전라남도</td>\n",
       "      <td>각화도매</td>\n",
       "      <td>22000.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "               일시  도_num    연도       SO2        CO        O3       NO2  \\\n",
       "18415  2017-12-29     10  2017  0.004550  0.930384  0.023088  0.033774   \n",
       "18416  2017-12-29     11  2017  0.004742  0.748507  0.021643  0.028905   \n",
       "18417  2017-12-29     12  2017  0.003583  0.828460  0.008503  0.040649   \n",
       "18418  2017-12-29     13  2017  0.004547  0.500735  0.020633  0.032862   \n",
       "18419  2017-12-29     14  2017  0.004979  0.731250  0.024893  0.021241   \n",
       "\n",
       "            PM10       PM25  합계 일조시간(hr)        품종명      도   마켓명       가격  \n",
       "18415  81.213251  41.930678     8.300000  토마토(10kg)  울산광역시  엄궁도매  21000.0  \n",
       "18416  81.940972  39.022832     6.742857  토마토(10kg)   경상남도  엄궁도매  21000.0  \n",
       "18417  83.175926  59.228704     0.100000  토마토(10kg)  광주광역시  각화도매  22000.0  \n",
       "18418  88.154762  60.079365     8.300000  토마토(10kg)  부산광역시  엄궁도매  21000.0  \n",
       "18419  60.396610  35.690363     3.835714  토마토(10kg)   전라남도  각화도매  22000.0  "
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 분석 전 테스트 데이터로 쓰일 2018 데이터 제외하고 시작\n",
    "tomato1317 = tomato[tomato['일시'].str.contains('2013|2014|2015|2016|2017')]\n",
    "tomato1317.tail()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>SO2</th>\n",
       "      <th>CO</th>\n",
       "      <th>O3</th>\n",
       "      <th>NO2</th>\n",
       "      <th>PM10</th>\n",
       "      <th>PM25</th>\n",
       "      <th>합계 일조시간(hr)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.005504</td>\n",
       "      <td>0.503030</td>\n",
       "      <td>0.030148</td>\n",
       "      <td>0.009233</td>\n",
       "      <td>35.018939</td>\n",
       "      <td>37.602906</td>\n",
       "      <td>8.300000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.005632</td>\n",
       "      <td>0.417254</td>\n",
       "      <td>0.023083</td>\n",
       "      <td>0.018736</td>\n",
       "      <td>24.678419</td>\n",
       "      <td>37.602906</td>\n",
       "      <td>8.820000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.006906</td>\n",
       "      <td>0.467460</td>\n",
       "      <td>0.024183</td>\n",
       "      <td>0.014894</td>\n",
       "      <td>24.450397</td>\n",
       "      <td>37.602906</td>\n",
       "      <td>6.133333</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.004950</td>\n",
       "      <td>0.403021</td>\n",
       "      <td>0.024425</td>\n",
       "      <td>0.021413</td>\n",
       "      <td>18.644792</td>\n",
       "      <td>37.602906</td>\n",
       "      <td>9.100000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.005591</td>\n",
       "      <td>0.567593</td>\n",
       "      <td>0.025477</td>\n",
       "      <td>0.011117</td>\n",
       "      <td>44.833333</td>\n",
       "      <td>37.602906</td>\n",
       "      <td>7.980000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18415</th>\n",
       "      <td>0.004550</td>\n",
       "      <td>0.930384</td>\n",
       "      <td>0.023088</td>\n",
       "      <td>0.033774</td>\n",
       "      <td>81.213251</td>\n",
       "      <td>41.930678</td>\n",
       "      <td>8.300000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18416</th>\n",
       "      <td>0.004742</td>\n",
       "      <td>0.748507</td>\n",
       "      <td>0.021643</td>\n",
       "      <td>0.028905</td>\n",
       "      <td>81.940972</td>\n",
       "      <td>39.022832</td>\n",
       "      <td>6.742857</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18417</th>\n",
       "      <td>0.003583</td>\n",
       "      <td>0.828460</td>\n",
       "      <td>0.008503</td>\n",
       "      <td>0.040649</td>\n",
       "      <td>83.175926</td>\n",
       "      <td>59.228704</td>\n",
       "      <td>0.100000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18418</th>\n",
       "      <td>0.004547</td>\n",
       "      <td>0.500735</td>\n",
       "      <td>0.020633</td>\n",
       "      <td>0.032862</td>\n",
       "      <td>88.154762</td>\n",
       "      <td>60.079365</td>\n",
       "      <td>8.300000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18419</th>\n",
       "      <td>0.004979</td>\n",
       "      <td>0.731250</td>\n",
       "      <td>0.024893</td>\n",
       "      <td>0.021241</td>\n",
       "      <td>60.396610</td>\n",
       "      <td>35.690363</td>\n",
       "      <td>3.835714</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>18420 rows × 7 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "            SO2        CO        O3       NO2       PM10       PM25  \\\n",
       "0      0.005504  0.503030  0.030148  0.009233  35.018939  37.602906   \n",
       "1      0.005632  0.417254  0.023083  0.018736  24.678419  37.602906   \n",
       "2      0.006906  0.467460  0.024183  0.014894  24.450397  37.602906   \n",
       "3      0.004950  0.403021  0.024425  0.021413  18.644792  37.602906   \n",
       "4      0.005591  0.567593  0.025477  0.011117  44.833333  37.602906   \n",
       "...         ...       ...       ...       ...        ...        ...   \n",
       "18415  0.004550  0.930384  0.023088  0.033774  81.213251  41.930678   \n",
       "18416  0.004742  0.748507  0.021643  0.028905  81.940972  39.022832   \n",
       "18417  0.003583  0.828460  0.008503  0.040649  83.175926  59.228704   \n",
       "18418  0.004547  0.500735  0.020633  0.032862  88.154762  60.079365   \n",
       "18419  0.004979  0.731250  0.024893  0.021241  60.396610  35.690363   \n",
       "\n",
       "       합계 일조시간(hr)  \n",
       "0         8.300000  \n",
       "1         8.820000  \n",
       "2         6.133333  \n",
       "3         9.100000  \n",
       "4         7.980000  \n",
       "...            ...  \n",
       "18415     8.300000  \n",
       "18416     6.742857  \n",
       "18417     0.100000  \n",
       "18418     8.300000  \n",
       "18419     3.835714  \n",
       "\n",
       "[18420 rows x 7 columns]"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 분석에 사용할 독립변수 컬럼 따로 빼기\n",
    "tom_f = tomato1317.iloc[:,3:10]\n",
    "tom_f"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>SO2</th>\n",
       "      <th>CO</th>\n",
       "      <th>O3</th>\n",
       "      <th>NO2</th>\n",
       "      <th>PM10</th>\n",
       "      <th>PM25</th>\n",
       "      <th>합계 일조시간(hr)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.000106</td>\n",
       "      <td>0.009664</td>\n",
       "      <td>0.000579</td>\n",
       "      <td>0.000177</td>\n",
       "      <td>0.672764</td>\n",
       "      <td>0.722405</td>\n",
       "      <td>0.159455</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.000123</td>\n",
       "      <td>0.009103</td>\n",
       "      <td>0.000504</td>\n",
       "      <td>0.000409</td>\n",
       "      <td>0.538403</td>\n",
       "      <td>0.820373</td>\n",
       "      <td>0.192424</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.000153</td>\n",
       "      <td>0.010325</td>\n",
       "      <td>0.000534</td>\n",
       "      <td>0.000329</td>\n",
       "      <td>0.540067</td>\n",
       "      <td>0.830583</td>\n",
       "      <td>0.135475</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.000115</td>\n",
       "      <td>0.009384</td>\n",
       "      <td>0.000569</td>\n",
       "      <td>0.000499</td>\n",
       "      <td>0.434119</td>\n",
       "      <td>0.875533</td>\n",
       "      <td>0.211881</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.000095</td>\n",
       "      <td>0.009611</td>\n",
       "      <td>0.000431</td>\n",
       "      <td>0.000188</td>\n",
       "      <td>0.759123</td>\n",
       "      <td>0.636697</td>\n",
       "      <td>0.135118</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18415</th>\n",
       "      <td>0.000050</td>\n",
       "      <td>0.010137</td>\n",
       "      <td>0.000252</td>\n",
       "      <td>0.000368</td>\n",
       "      <td>0.884871</td>\n",
       "      <td>0.456862</td>\n",
       "      <td>0.090434</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18416</th>\n",
       "      <td>0.000052</td>\n",
       "      <td>0.008224</td>\n",
       "      <td>0.000238</td>\n",
       "      <td>0.000318</td>\n",
       "      <td>0.900334</td>\n",
       "      <td>0.428767</td>\n",
       "      <td>0.074088</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18417</th>\n",
       "      <td>0.000035</td>\n",
       "      <td>0.008113</td>\n",
       "      <td>0.000083</td>\n",
       "      <td>0.000398</td>\n",
       "      <td>0.814551</td>\n",
       "      <td>0.580034</td>\n",
       "      <td>0.000979</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18418</th>\n",
       "      <td>0.000042</td>\n",
       "      <td>0.004680</td>\n",
       "      <td>0.000193</td>\n",
       "      <td>0.000307</td>\n",
       "      <td>0.823843</td>\n",
       "      <td>0.561466</td>\n",
       "      <td>0.077567</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18419</th>\n",
       "      <td>0.000071</td>\n",
       "      <td>0.010407</td>\n",
       "      <td>0.000354</td>\n",
       "      <td>0.000302</td>\n",
       "      <td>0.859587</td>\n",
       "      <td>0.507958</td>\n",
       "      <td>0.054591</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>18420 rows × 7 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "            SO2        CO        O3       NO2      PM10      PM25  합계 일조시간(hr)\n",
       "0      0.000106  0.009664  0.000579  0.000177  0.672764  0.722405     0.159455\n",
       "1      0.000123  0.009103  0.000504  0.000409  0.538403  0.820373     0.192424\n",
       "2      0.000153  0.010325  0.000534  0.000329  0.540067  0.830583     0.135475\n",
       "3      0.000115  0.009384  0.000569  0.000499  0.434119  0.875533     0.211881\n",
       "4      0.000095  0.009611  0.000431  0.000188  0.759123  0.636697     0.135118\n",
       "...         ...       ...       ...       ...       ...       ...          ...\n",
       "18415  0.000050  0.010137  0.000252  0.000368  0.884871  0.456862     0.090434\n",
       "18416  0.000052  0.008224  0.000238  0.000318  0.900334  0.428767     0.074088\n",
       "18417  0.000035  0.008113  0.000083  0.000398  0.814551  0.580034     0.000979\n",
       "18418  0.000042  0.004680  0.000193  0.000307  0.823843  0.561466     0.077567\n",
       "18419  0.000071  0.010407  0.000354  0.000302  0.859587  0.507958     0.054591\n",
       "\n",
       "[18420 rows x 7 columns]"
      ]
     },
     "execution_count": 27,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 데이터의 스케일을 맞추기 위해 표준화 한다.\n",
    "\n",
    "# tomato_std = StandardScaler().fit_transform(tom_f)\n",
    "tomato_std = Normalizer().fit_transform(tom_f)\n",
    "tomato_std = pd.DataFrame(tomato_std)\n",
    "tomato_std.columns=['SO2','CO','O3','NO2','PM10','PM25','합계 일조시간(hr)']\n",
    "tomato_std"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[ 1.53185464e-09,  6.09675941e-08,  2.13091809e-09,\n",
       "         3.16810961e-09, -5.42307851e-07,  7.12103387e-07,\n",
       "         4.99096847e-07],\n",
       "       [ 6.09675941e-08,  1.03466860e-05,  1.66816651e-07,\n",
       "         3.54923113e-07, -8.14750877e-05,  1.24745207e-04,\n",
       "        -3.71856282e-07],\n",
       "       [ 2.13091809e-09,  1.66816651e-07,  9.20585001e-08,\n",
       "        -6.51829081e-09, -6.41596176e-06,  6.59998741e-06,\n",
       "         1.08633385e-05],\n",
       "       [ 3.16810961e-09,  3.54923113e-07, -6.51829081e-09,\n",
       "         3.51966572e-08, -1.94841713e-06,  2.97544241e-06,\n",
       "         5.69951043e-07],\n",
       "       [-5.42307851e-07, -8.14750877e-05, -6.41596176e-06,\n",
       "        -1.94841713e-06,  7.76016577e-03, -1.06394913e-02,\n",
       "        -1.19269033e-03],\n",
       "       [ 7.12103387e-07,  1.24745207e-04,  6.59998741e-06,\n",
       "         2.97544241e-06, -1.06394913e-02,  1.64468985e-02,\n",
       "        -3.03491345e-04],\n",
       "       [ 4.99096847e-07, -3.71856282e-07,  1.08633385e-05,\n",
       "         5.69951043e-07, -1.19269033e-03, -3.03491345e-04,\n",
       "         8.86927850e-03]])"
      ]
     },
     "execution_count": 28,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 공분산 행렬 구하기\n",
    "tom_cov = np.cov(tomato_std.T)\n",
    "tom_cov"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [],
   "source": [
    "# 고유값과 고유벡터 계산 (고유분해)\n",
    "eig_vals, eig_vecs= np.linalg.eig(tom_cov)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([2.36080027e-02, 9.01745057e-03, 4.51854051e-04, 9.41276639e-06,\n",
       "       1.07481614e-09, 2.00285606e-08, 7.70097464e-08])"
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 고유값 확인\n",
    "eig_vals"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[-3.84468493e-05,  5.28257042e-05, -3.02209027e-05,\n",
       "         5.90043485e-03,  9.98184938e-01,  5.98140149e-02,\n",
       "        -3.78059423e-03],\n",
       "       [-6.31025748e-03, -5.34522845e-04, -3.41199130e-03,\n",
       "         9.99255955e-01, -3.64447415e-03, -3.75096363e-02,\n",
       "         3.94144387e-03],\n",
       "       [-3.96550400e-04,  1.18965901e-03,  3.71123139e-04,\n",
       "         1.21746198e-02, -1.71627744e-02,  2.23621979e-01,\n",
       "        -9.74447904e-01],\n",
       "       [-1.51351798e-04,  5.08596720e-05, -2.47917819e-04,\n",
       "         3.53932700e-02, -5.76106369e-02,  9.72115428e-01,\n",
       "         2.24543623e-01],\n",
       "       [ 5.58640351e-01, -9.77013710e-02, -8.23634952e-01,\n",
       "         6.66032145e-04, -5.10687795e-06,  7.65621689e-06,\n",
       "        -6.50134217e-04],\n",
       "       [-8.28908440e-01, -9.94565343e-02, -5.50425140e-01,\n",
       "        -7.16629650e-03, -2.16725922e-06,  1.49888928e-05,\n",
       "        -7.97875268e-05],\n",
       "       [-2.81381529e-02,  9.90232868e-01, -1.36549590e-01,\n",
       "        -1.31416618e-04, -3.23605363e-05, -3.39764609e-04,\n",
       "         1.08933228e-03]])"
      ]
     },
     "execution_count": 31,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 고유벡터 확인\n",
    "eig_vecs"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0.7135168624317092\n",
      "0.27253906693611557\n",
      "0.013656618407574189\n",
      "0.00028448690099542115\n",
      "3.2484723311730336e-08\n",
      "6.053335344184334e-07\n",
      "2.3275053478455974e-06\n"
     ]
    }
   ],
   "source": [
    "# 주성분의 고유값 비율 확인\n",
    "eig_vals_sum = np.sum(eig_vals)\n",
    "for eig_val in eig_vals:\n",
    "    print (str(eig_val/eig_vals_sum))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# 위 데이터를 이용해 scree plot 그려서 고유값 확인. 주성분 개수를 정할 때 한 눈에 볼 수 있어서 좋다.\n",
    "sing_vals = np.arange(len(eig_vals))+1\n",
    "plt.plot(sing_vals, eig_vals, \"ro-\", linewidth=2)\n",
    "plt.title(\"Scree Plot\")\n",
    "plt.xlabel(\"Principal Component\")\n",
    "plt.ylabel(\"Eig_values\")\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "PCA(copy=True, iterated_power='auto', n_components=2, random_state=None,\n",
       "    svd_solver='auto', tol=0.0, whiten=False)"
      ]
     },
     "execution_count": 35,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 주성분의 개수를 4개로 하여 주성분 분석\n",
    "pca = PCA(n_components = 2)\n",
    "pca"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[ 0.28420662,  0.01872253],\n",
       "       [ 0.4413965 ,  0.05475336],\n",
       "       [ 0.44733505, -0.00281807],\n",
       "       ...,\n",
       "       [ 0.0825159 , -0.13789793],\n",
       "       [ 0.06406847, -0.06111754],\n",
       "       [-0.00086325, -0.08204215]])"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 각 주성분 데이터들을 찾아서 array로 만든다.\n",
    "pca_values = pca.fit_transform(tomato_std)\n",
    "pca_values"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.9860559293678253"
      ]
     },
     "execution_count": 37,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 고유값의 누적 설명력 확인. 80% 넘는것을 확인할 수 있다.\n",
    "sum(pca.explained_variance_ratio_)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>PC1</th>\n",
       "      <th>PC2</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.284207</td>\n",
       "      <td>0.018723</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.441396</td>\n",
       "      <td>0.054753</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.447335</td>\n",
       "      <td>-0.002818</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.545926</td>\n",
       "      <td>0.078723</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.164233</td>\n",
       "      <td>-0.005290</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18415</th>\n",
       "      <td>-0.056335</td>\n",
       "      <td>-0.043938</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18416</th>\n",
       "      <td>-0.088734</td>\n",
       "      <td>-0.058840</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18417</th>\n",
       "      <td>0.082516</td>\n",
       "      <td>-0.137898</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18418</th>\n",
       "      <td>0.064068</td>\n",
       "      <td>-0.061118</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18419</th>\n",
       "      <td>-0.000863</td>\n",
       "      <td>-0.082042</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>18420 rows × 2 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "            PC1       PC2\n",
       "0      0.284207  0.018723\n",
       "1      0.441396  0.054753\n",
       "2      0.447335 -0.002818\n",
       "3      0.545926  0.078723\n",
       "4      0.164233 -0.005290\n",
       "...         ...       ...\n",
       "18415 -0.056335 -0.043938\n",
       "18416 -0.088734 -0.058840\n",
       "18417  0.082516 -0.137898\n",
       "18418  0.064068 -0.061118\n",
       "18419 -0.000863 -0.082042\n",
       "\n",
       "[18420 rows x 2 columns]"
      ]
     },
     "execution_count": 39,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 위에서 구한 주성분으로 이루어진 데이터 프레임 생성\n",
    "pcadf = pd.DataFrame(data=pca_values, columns = ['PC1', 'PC2'])\n",
    "pcadf"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [],
   "source": [
    "# 처음 데이터의 변수부분을 빼고 주성분 분석으로 구한 데이터 프레임과 합친다.\n",
    "# 처음 데이터의 변수부분을 제외한 좌 우 데이터를 만든다.\n",
    "tom_1 = tomato1317.iloc[:,0:3]\n",
    "tom_2 = tomato1317.iloc[:,-4:]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>일시</th>\n",
       "      <th>도_num</th>\n",
       "      <th>연도</th>\n",
       "      <th>PC1</th>\n",
       "      <th>PC2</th>\n",
       "      <th>품종명</th>\n",
       "      <th>도</th>\n",
       "      <th>마켓명</th>\n",
       "      <th>가격</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>0</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.284207</td>\n",
       "      <td>0.018723</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>강원도</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>1</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.441396</td>\n",
       "      <td>0.054753</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>경기도</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>2</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.447335</td>\n",
       "      <td>-0.002818</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>인천광역시</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>3</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.545926</td>\n",
       "      <td>0.078723</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>서울특별시</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>4</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.164233</td>\n",
       "      <td>-0.005290</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>경상북도</td>\n",
       "      <td>북부도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18415</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>10</td>\n",
       "      <td>2017</td>\n",
       "      <td>-0.056335</td>\n",
       "      <td>-0.043938</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>울산광역시</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>21000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18416</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>11</td>\n",
       "      <td>2017</td>\n",
       "      <td>-0.088734</td>\n",
       "      <td>-0.058840</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>경상남도</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>21000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18417</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>12</td>\n",
       "      <td>2017</td>\n",
       "      <td>0.082516</td>\n",
       "      <td>-0.137898</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>광주광역시</td>\n",
       "      <td>각화도매</td>\n",
       "      <td>22000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18418</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>13</td>\n",
       "      <td>2017</td>\n",
       "      <td>0.064068</td>\n",
       "      <td>-0.061118</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>부산광역시</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>21000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18419</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>14</td>\n",
       "      <td>2017</td>\n",
       "      <td>-0.000863</td>\n",
       "      <td>-0.082042</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>전라남도</td>\n",
       "      <td>각화도매</td>\n",
       "      <td>22000.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>18420 rows × 9 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "               일시  도_num    연도       PC1       PC2        품종명      도   마켓명  \\\n",
       "0      2013-01-02      0  2013  0.284207  0.018723  토마토(10kg)    강원도  가락도매   \n",
       "1      2013-01-02      1  2013  0.441396  0.054753  토마토(10kg)    경기도  가락도매   \n",
       "2      2013-01-02      2  2013  0.447335 -0.002818  토마토(10kg)  인천광역시  가락도매   \n",
       "3      2013-01-02      3  2013  0.545926  0.078723  토마토(10kg)  서울특별시  가락도매   \n",
       "4      2013-01-02      4  2013  0.164233 -0.005290  토마토(10kg)   경상북도  북부도매   \n",
       "...           ...    ...   ...       ...       ...        ...    ...   ...   \n",
       "18415  2017-12-29     10  2017 -0.056335 -0.043938  토마토(10kg)  울산광역시  엄궁도매   \n",
       "18416  2017-12-29     11  2017 -0.088734 -0.058840  토마토(10kg)   경상남도  엄궁도매   \n",
       "18417  2017-12-29     12  2017  0.082516 -0.137898  토마토(10kg)  광주광역시  각화도매   \n",
       "18418  2017-12-29     13  2017  0.064068 -0.061118  토마토(10kg)  부산광역시  엄궁도매   \n",
       "18419  2017-12-29     14  2017 -0.000863 -0.082042  토마토(10kg)   전라남도  각화도매   \n",
       "\n",
       "            가격  \n",
       "0      29000.0  \n",
       "1      29000.0  \n",
       "2      29000.0  \n",
       "3      29000.0  \n",
       "4      29000.0  \n",
       "...        ...  \n",
       "18415  21000.0  \n",
       "18416  21000.0  \n",
       "18417  22000.0  \n",
       "18418  21000.0  \n",
       "18419  22000.0  \n",
       "\n",
       "[18420 rows x 9 columns]"
      ]
     },
     "execution_count": 41,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 데이터 병합 후 확인\n",
    "tom_fin = pd.concat([tom_1,pcadf,tom_2],axis=1)\n",
    "tom_fin"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [],
   "source": [
    "# 데이터 저장\n",
    "tom_fin.to_csv('tom_fin.csv',encoding = 'cp949', index=False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>일시</th>\n",
       "      <th>도_num</th>\n",
       "      <th>연도</th>\n",
       "      <th>PC1</th>\n",
       "      <th>PC2</th>\n",
       "      <th>품종명</th>\n",
       "      <th>도</th>\n",
       "      <th>마켓명</th>\n",
       "      <th>가격</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>0</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.284207</td>\n",
       "      <td>0.018723</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>강원도</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>1</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.441396</td>\n",
       "      <td>0.054753</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>경기도</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>2</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.447335</td>\n",
       "      <td>-0.002818</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>인천광역시</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>3</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.545926</td>\n",
       "      <td>0.078723</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>서울특별시</td>\n",
       "      <td>가락도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2013-01-02</td>\n",
       "      <td>4</td>\n",
       "      <td>2013</td>\n",
       "      <td>0.164233</td>\n",
       "      <td>-0.005290</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>경상북도</td>\n",
       "      <td>북부도매</td>\n",
       "      <td>29000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18415</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>10</td>\n",
       "      <td>2017</td>\n",
       "      <td>-0.056335</td>\n",
       "      <td>-0.043938</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>울산광역시</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>21000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18416</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>11</td>\n",
       "      <td>2017</td>\n",
       "      <td>-0.088734</td>\n",
       "      <td>-0.058840</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>경상남도</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>21000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18417</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>12</td>\n",
       "      <td>2017</td>\n",
       "      <td>0.082516</td>\n",
       "      <td>-0.137898</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>광주광역시</td>\n",
       "      <td>각화도매</td>\n",
       "      <td>22000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18418</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>13</td>\n",
       "      <td>2017</td>\n",
       "      <td>0.064068</td>\n",
       "      <td>-0.061118</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>부산광역시</td>\n",
       "      <td>엄궁도매</td>\n",
       "      <td>21000.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18419</th>\n",
       "      <td>2017-12-29</td>\n",
       "      <td>14</td>\n",
       "      <td>2017</td>\n",
       "      <td>-0.000863</td>\n",
       "      <td>-0.082042</td>\n",
       "      <td>토마토(10kg)</td>\n",
       "      <td>전라남도</td>\n",
       "      <td>각화도매</td>\n",
       "      <td>22000.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>18420 rows × 9 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "               일시  도_num    연도       PC1       PC2        품종명      도   마켓명  \\\n",
       "0      2013-01-02      0  2013  0.284207  0.018723  토마토(10kg)    강원도  가락도매   \n",
       "1      2013-01-02      1  2013  0.441396  0.054753  토마토(10kg)    경기도  가락도매   \n",
       "2      2013-01-02      2  2013  0.447335 -0.002818  토마토(10kg)  인천광역시  가락도매   \n",
       "3      2013-01-02      3  2013  0.545926  0.078723  토마토(10kg)  서울특별시  가락도매   \n",
       "4      2013-01-02      4  2013  0.164233 -0.005290  토마토(10kg)   경상북도  북부도매   \n",
       "...           ...    ...   ...       ...       ...        ...    ...   ...   \n",
       "18415  2017-12-29     10  2017 -0.056335 -0.043938  토마토(10kg)  울산광역시  엄궁도매   \n",
       "18416  2017-12-29     11  2017 -0.088734 -0.058840  토마토(10kg)   경상남도  엄궁도매   \n",
       "18417  2017-12-29     12  2017  0.082516 -0.137898  토마토(10kg)  광주광역시  각화도매   \n",
       "18418  2017-12-29     13  2017  0.064068 -0.061118  토마토(10kg)  부산광역시  엄궁도매   \n",
       "18419  2017-12-29     14  2017 -0.000863 -0.082042  토마토(10kg)   전라남도  각화도매   \n",
       "\n",
       "            가격  \n",
       "0      29000.0  \n",
       "1      29000.0  \n",
       "2      29000.0  \n",
       "3      29000.0  \n",
       "4      29000.0  \n",
       "...        ...  \n",
       "18415  21000.0  \n",
       "18416  21000.0  \n",
       "18417  22000.0  \n",
       "18418  21000.0  \n",
       "18419  22000.0  \n",
       "\n",
       "[18420 rows x 9 columns]"
      ]
     },
     "execution_count": 45,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 저장된 데이터 확인\n",
    "pd.read_csv('tom_fin.csv', encoding = 'cp949')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
